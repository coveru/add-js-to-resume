<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>徐志贤的简历</title>
  <link rel="stylesheet" href="./main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.2/css/swiper.min.css">
  <script src="//at.alicdn.com/t/font_859799_uvewtnf6tl.js"></script>
  
</head>
<body>
 
   
  <div id="topNavBar" class="topNavBar">
    <div class="topNavBar-inner clearfix">
    <a class="logo" href="#" alt="logo" style="float:left">
    <span class="rs">RS</span><span class="card">card</span>
    </a>
    <nav class="menu" style="float: right">
      <ul class="clearfix">
       <li><a href="#siteAbout">关于</a></li>
       <li><a href="#siteSkills">技能</a></li>
       <li>
         <a href="#siteWorks">作品</a>
         <ul class="submenu">
           <li>作品1</li>
           <li>作品2</li>
           <li>作品3</li>
         </ul>
        </li>
       <li>
         <a href="#siteBlogs">博客</a>
         <ul class="submenu">
            <li>博客1</li>
            <li>博客2</li>
            <li>博客3</li>
          </ul>   
        </li> 
       <li><a href="#sitePhone">联系方式</a></li>
       <li><a href="#siteDate">日历</a></li>
       <li><a href="#sitaOther">其他</a></li>
     </ul>
    </nav>
    </div>  
  </div>
  <div class="banner">
    <div class="mask"></div>
  </div>
  <main>
 
   <div data-x id="siteAbout" class="userCard">
    <div class="pictureAndText clearfix">
     <div class="picture">
      <img src="./img/avatar.jpg" width=299 height=347 alt="头像">
     </div> 
     <div class="text">
      <span class="welcome">Hello<span class="triangle"></span>
      </span>
      <h1>徐志贤</h1>
      <p>前端工程师</p>
      <hr/>
      <dl class="clearfix">
       <dt>年龄</dt>
       <dd>29</dd>
       <dt>城市</dt>
       <dd> 广州</dd>
       <dt>电话</dt>
       <dd>13855307563</dd>
       <dt>邮箱</<dt></dt>
       <dd>646666725@qq.com</dd>
      </dl> 
     </div> 
    </div>
      <footer class="media">
        <a href='#'><svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-github"></use>
        </svg></a> 
        <a href='#'><svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-twitter"></use>
        </svg></a>
        <a href='#'><svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-qq"></use>
        </svg></a>
        <a href='#'><svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-facebook"></use>
        </svg></a>
        <a href='#'><svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-youtube"></use>
        </svg></a>
        <a href='#'><svg class="icon" aria-hidden="true">
            <use xlink:href="#icon-wechat"></use>
        </svg></a>
      </footer>  
  </div> 
    <p class="downloadResume-wrapper"> 
      <a class="downloadResume" href="./resume.pdf" target="_blank" download>下载 PDF 简历</a>
    </p> 
    <p class="selfIntroduction"> 徐志贤，正在学习前端知识，准入门级程序员<br/>
        技能：html5 css nodejs
    </p>
  </main>
  <section data-x id="siteSkills" class="skills">
    <h2>技能</h2>
     <ol class="clearfix">
       <li>
         <h3> HMML5 &amp;  CSS 3</h3>
         <div class="progressBar">
           <div class="progress"style="width: 80%;"></div>
          

         </div>
        
        </li>
       <li>
         <h3>Javascript</h3>
         <div class="progressBar">
           <div class="progress" style="width: 70%;"></div>
        </div>
        </li>
       <li>
         <h3>jQuery</h3>
         <div class="progressBar">
           <div class="progress"style="width: 20%;"></div>
        </div>
      </li>
       <li>
         <h3>Vue</h3>
         <div class="progressBar">
           <div class="progress" style="width: 30%;"></div>
        </div>
        </li>
       <li>
         <h3>React</h3>
         <div class="progressBar">
           <div class="progress" style="width: 70%;"></div>
        </div>
        </li>
       <li>
          <h3>http</h3>
          <div class="progressBar">
            <div class="progress" style="width: 50%;"></div>
         </div>
       </li>
  </section>
    <section data-x id="siteWorks" class="portfolio">
      <h2>作品集</h2>
     
        
          <!-- Slider main container -->
      <div class="swiper-container">
          <!-- Additional required wrapper -->
          <div class="swiper-wrapper">
              <!-- Slides -->
              <img class="swiper-slide" src="./works/00001.jpg">
              <img class="swiper-slide" src="./works/00002.jpg">
              <img class="swiper-slide" src="./works/00003.jpg">
              
          </div>
          <!-- If we need pagination -->
          <div class="swiper-pagination"></div>
      
          <!-- If we need navigation buttons -->
          <div class="swiper-button-prev"></div>
          <div class="swiper-button-next"></div>

      </div>
  
    </section>   
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.4.2/js/swiper.min.js"></script>
   <script>
   var mySwiper = new Swiper ('.swiper-container', {
    // Optional parameters
    
    loop: true,

    // If we need pagination
    pagination: {
      el: '.swiper-pagination',
    },

    // Navigation arrows
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    
  })
   
   </script>  
   <script>

       //添加 offset类
     let specialTags = document.querySelectorAll('[data-x]') 
      for(let i = 0;i<specialTags.length; i++){
        specialTags[i].classList.add('offset')
      }
      
        findcloset()
      
      
     window.onscroll = function(zzz){
     if(window.scrollY > 0){
        topNavBar.classList.add('sticky')
     }else{
        topNavBar.classList.remove('sticky')
     }
       findcloset()
     }  
     function findcloset(){
      let specialTags = document.querySelectorAll('[data-x]')  
     let minIndex = 0
     for(let i = 1;i<specialTags.length; i++){
        if(Math.abs(specialTags[i].offsetTop - window.scrollY) < Math.abs(specialTags[minIndex].offsetTop - window.scrollY)){
         minIndex = i
        }
     }
     //minIndex就是离窗口顶部最近的元素
     specialTags[minIndex].classList.remove('offset')
    let id = specialTags[minIndex].id
    let a = document.querySelector('a[href="#'+ id + '"]')
    let li = a.parentNode
    let brothersAndMe = li.parentNode.children
    for(let i=0; i<brothersAndMe.length; i++){
    brothersAndMe[i].classList.remove('highlight')
   }
     li.classList.add('highlight')
   }  


   let liTags = document.querySelectorAll('nav.menu > ul > li')
    for(let i=0; i<liTags.length; i++){
      liTags[i].onmouseenter = function(x){
        x.currentTarget.classList.add('active')
      }
      liTags[i].onmouseleave = function(x){
         x.currentTarget.classList.remove('active')
      }
    }

    let aTags = document.querySelectorAll('nav.menu > ul > li > a')
     function animate(time) {
     requestAnimationFrame(animate);
     TWEEN.update(time);
     }
     requestAnimationFrame(animate);

    
    for(let i=0; i<aTags.length;i++){
      aTags[i].onclick = function(x){
        x.preventDefault()  //调用函数传入的参数的方法阻止默认动作（阻止点击跳转到锚点）
        let a = x.currentTarget //获取用户点击的a标签
        let href = a.getAttribute('href')   //获取a标签的href#siteAbout
        let element = document.querySelector(href)       //根据href得到点击的元素
        let top = element.offsetTop                 //得到点击元素到页面顶部的距离top的值
        let targetTop = top - 80         
        let currentTop = window.scrollY
        let s = targetTop - currentTop
        var coords = { y:currentTop}; 
        var t = Math.abs((s/100)*200)
        if (t>700){
          t = 700
        }
        var tween = new TWEEN.Tween(coords)  
        .to({ y: targetTop }, t) 
        .easing(TWEEN.Easing.Quadratic.InOut) 
        .onUpdate(function() { 
         window.scrollTo(0, coords.y)
        })
        .start();
      }
    }
    </script>          
</body>
</html>
